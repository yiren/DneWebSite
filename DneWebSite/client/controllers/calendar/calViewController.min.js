(function(){"use strict";function n(n){var t=this,i=function(t){var i=n.open({animation:!0,templateUrl:"client/templates/home/eventDetailModal.html",controller:"modalCtrl as m",resolve:{data:function(){return t}}})},r=function(n){i(n)},u={calendar:{height:700,header:{left:"prev,next today",center:"title",right:"month,basicWeek,basicDay"},timezone:"Asia/Taipei",lang:"zh-tw",weekends:!0,defaultView:"basicDay",minTime:"07:00:00",maxTime:"19:00:00",firstHour:(new Date).getUTCHours-5,nowIndicator:!0,allDaySlot:!0,contentHeight:"auto",theme:!1,views:{basic:{timeFormat:"HH:mm"},agenda:{timeFormat:"HH:mm"},month:{timeFormat:"HH:mm"}},businessHours:{start:"08:00",end:"17:20",dow:[1,2,3,4,5]},eventClick:r,viewRender:function(n,t){if(n.name==="basicDay")t.find(".fc-head").append('<tr><td><div class="row"><div class="col-md-2">日期<\/div><div class="col-md-5">重要事項<\/div><div class="col-md-2">出席人員<\/div><div class="col-md-1">地點<\/div><\/div><\/td><\/tr>')},dayRender:function(){},eventRender:function(n,t,i){var r;t.attr("href","javascript:void(0)");(n.description===null||n.description==undefined)&&(n.description="");(n.location===null||n.location==undefined)&&(n.location="");i.name==="basicDay"&&(r='<div class="col-md-2 nowrap">'+n.description+'<\/div><div class="col-md-1 nowrap">'+n.location+"<\/div>",n.allDay===!1?(t.find(".fc-content").addClass("row"),t.find(".fc-time").addClass("col-md-2 nowrap"),t.find(".fc-title").addClass("col-md-5 nowrap"),t.find(".fc-content").append(r)):(t.find(".fc-content").addClass("row"),t.find(".fc-content").prepend('<div class="col-md-2">全天<\/div>'),t.find(".fc-title").addClass("col-md-5 nowrap"),t.find(".fc-content").append(r)));i.name==="basicWeek"&&t.find(".fc-title").addClass("nowrap");i.name==="month"&&t.find(".fc-title").addClass("nowrap");(n.title.indexOf("公出")>=0||n.title.indexOf("假")>=0||n.title.indexOf("受訓")>=0||n.title.indexOf("出國")>=0||n.title.indexOf("出差")>=0)&&t.addClass("fc-event-dutyOut");n.title.indexOf("大修")>=0&&t.addClass("fc-event-supOutage");(n.title.indexOf("取消")>=0||n.title.indexOf("改期")>=0)&&t.addClass("fc-event-changed");(n.title.indexOf("演講")>=0||n.title.indexOf("專案討論")>=0)&&t.addClass("fc-event-speech")}}};t.eventSources=[{googleCalendarApiKey:"AIzaSyBGsSycErhrJgP8vlFfzbtCpNuStqcWjHo",googleCalendarId:"c26rmjc50kbd6rqpvpb6ka555c@group.calendar.google.com"}];angular.extend(this,{uiConfig:u})}angular.module("main").controller("calViewCtrl",["$uibModal",n])})();